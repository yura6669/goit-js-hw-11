{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nfunction showNotificationError() {\n    iziToast.error({\n    message: 'Sorry, there are no images matching your search query. Please try again!',\n    position: 'topRight',\n    timeout: 2000,\n    close: false,\n    overlay: false,\n    displayMode: 'once',\n    color: '#EF4040',\n    messageColor: '#FFFFFF',\n    messageSize: '16px',\n    iconColor: '#FFFFFF',\n    theme: 'dark',\n    messageLineHeight: '24px',\n    iconColor: '#FFFFFF',\n    });\n}\n\nconst form = document.querySelector('.search-form');\nconst input = document.querySelector('.search-input');\nconst gallery = document.querySelector('.gallery');\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n    captionPosition: 'bottom',\n    captionClass: 'caption-style',\n    close: true,\n    closeText: 'Ã—',\n    fadeSpeed: 250,\n    animationSpeed: 250,\n},);\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', onSearch);\n\nfunction onSearch(e) { \n    e.preventDefault();\n    gallery.innerHTML = '';\n    loader.classList.add('loader-show');\n    const searchQuery = input.value;\n    fetchImages(searchQuery);\n    form.reset();\n}\n\nfunction fetchImages(searchQuery) { \n    const API_KEY = '38212376-ffcb529addc704f756c0c7d48';\n    const BASE_URL = 'https://pixabay.com/api/';\n    const url = `${BASE_URL}?key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true`;\n    \n    fetch(url)\n        .then(response => response.json())\n        .then(data => {\n            if (data.hits.length === 0) {\n                showNotificationError();\n                loader.classList.remove('loader-show');\n            } else {\n                const markup = createGalleryMarkup(data.hits);\n                gallery.insertAdjacentHTML('beforeend', markup);\n                loader.classList.remove('loader-show'); \n                lightbox.refresh();\n            }\n        })\n        .catch(error => console.log(error));\n}\n\nfunction createGalleryMarkup(images) { \n    return images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads, user }) => {\n        return `\n        <li class=\"photo-card\">\n            <a href=\"${largeImageURL}\" class=\"gallery__item\">\n                <img src=\"${webformatURL}\" alt=\"Author: ${user}, tags: ${tags}\" class=\"gallery__image\" />\n            </a>\n            <div class=\"info\">\n                <p class=\"info-item\">\n                    <b>Likes</b>\n                    <span>${likes}</span>\n                </p>\n                <p class=\"info-item\">\n                    <b>Views</b>\n                    <span>${views}</span>\n                </p>\n                <p class=\"info-item\">\n                    <b>Comments</b>\n                    <span>${comments}</span>\n                </p>\n                <p class=\"info-item\">\n                    <b>Downloads</b>\n                    <span>${downloads}</span>\n                </p>\n            </div>\n        </li>\n        `;\n    }).join('');\n}"],"names":["showNotificationError","iziToast","form","input","gallery","lightbox","SimpleLightbox","loader","onSearch","e","searchQuery","fetchImages","url","response","data","markup","createGalleryMarkup","error","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","user"],"mappings":"6vBAKA,SAASA,GAAwB,CAC7BC,EAAS,MAAM,CACf,QAAS,2EACT,SAAU,WACV,QAAS,IACT,MAAO,GACP,QAAS,GACT,YAAa,OACb,MAAO,UACP,aAAc,UACd,YAAa,OACb,UAAW,UACX,MAAO,OACP,kBAAmB,OACnB,UAAW,SACf,CAAK,CACL,CAEA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,IACd,gBAAiB,SACjB,aAAc,gBACd,MAAO,GACP,UAAW,IACX,UAAW,IACX,eAAgB,GACpB,GACMC,EAAS,SAAS,cAAc,SAAS,EAE/CL,EAAK,iBAAiB,SAAUM,CAAQ,EAExC,SAASA,EAASC,EAAG,CACjBA,EAAE,eAAc,EAChBL,EAAQ,UAAY,GACpBG,EAAO,UAAU,IAAI,aAAa,EAClC,MAAMG,EAAcP,EAAM,MAC1BQ,EAAYD,CAAW,EACvBR,EAAK,MAAK,CACd,CAEA,SAASS,EAAYD,EAAa,CAG9B,MAAME,EAAM,qEAAgCF,4DAE5C,MAAME,CAAG,EACJ,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EACrBd,IACAO,EAAO,UAAU,OAAO,aAAa,MAClC,CACH,MAAMQ,EAASC,EAAoBF,EAAK,IAAI,EAC5CV,EAAQ,mBAAmB,YAAaW,CAAM,EAC9CR,EAAO,UAAU,OAAO,aAAa,EACrCF,EAAS,QAAO,CACnB,CACb,CAAS,EACA,MAAMY,GAAS,QAAQ,IAAIA,CAAK,CAAC,CAC1C,CAEA,SAASD,EAAoBE,EAAQ,CACjC,OAAOA,EAAO,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,EAAW,KAAAC,CAAI,IACpF;AAAA;AAAA,uBAEQN;AAAA,4BACKD,mBAA8BO,YAAeL;AAAA;AAAA;AAAA;AAAA;AAAA,4BAK7CC;AAAA;AAAA;AAAA;AAAA,4BAIAC;AAAA;AAAA;AAAA;AAAA,4BAIAC;AAAA;AAAA;AAAA;AAAA,4BAIAC;AAAA;AAAA;AAAA;AAAA,SAKvB,EAAE,KAAK,EAAE,CACd"}